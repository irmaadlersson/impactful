[Settings]
# Added automatically by the Netlify CLI. It has no effect during normal
# Git-backed deploys.
ID = "IMPACTFUL"

# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "dist"

  # Default build command.
  command = "yarn build"

# Production context: All deploys to the master branch will inherit these settings.
[context.production.environment]
  # The production environment of netlify is used to build the app.
  # We need the devDependencies for it. "cross-env" will ensure the build is made with NODE_ENV="production".
  NODE_ENV = "development"

# Here is another way to define context specific environment variables.
[context.branch-deploy.environment]
  # The production environment of netlify is used to build the app.
  # We need the devDependencies for it. "cross-env" will ensure the build is made with NODE_ENV="production".
  NODE_ENV = "development"

# URL rewriting rules for SPA.
[[redirects]]
  from = "/*" # react-router will handle front-end side routing
  to = "/index.html"
  status = 200
  force = false # Existing static files should not be redirected

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"

  [headers.values]
    Referrer-Policy = "no-referrer-when-downgrade"
    Strict-Transport-Security = "max-age=31536000; includeSubDomains; preload"
    Vary = "accept-encoding"
    X-Frame-Options = "SAMEORIGIN"
    X-UA-Compatible = "IE=edge,chrome=1"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    # Uncomment the following headers once you know which values they should contain (project specific!)
    # @see https://securityheaders.com/ for more informations
    # Content-Security-Policy = "default-src 'none'; script-src 'self' polyfill.io; style-src 'self' 'unsafe-inline'; img-src 'self' 'http://images.ctfassets.net' data:; font-src 'self'; media-src 'self'; manifest-src 'self'; worker-src 'self'; connect-src 'self' 'https://www.googleapis.com'; object-src 'self'; frame-src 'self'; base-uri 'self';"
    # Feature-Policy = "geolocation 'none'; microphone 'none'; camera 'none'; fullscreen 'self'; payment 'none';"
